<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>BBC introduction to coding principles</title>
    <!-- Font Awesome icons (free version)-->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"
      crossorigin="anonymous"
    ></script>
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
    <!-- Fonts CSS-->
    <link rel="stylesheet" href="css/heading.css" />
    <link rel="stylesheet" href="css/body.css" />
  </head>
  <body id="page-top">
    <nav class="navbar navbar-expand-lg bg-secondary fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top"
          >Summary</a
        >
        <button
          class="navbar-toggler navbar-toggler-right font-weight-bold bg-primary text-white rounded"
          type="button"
          data-toggle="collapse"
          data-target="#navbarResponsive"
          aria-controls="navbarResponsive"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          Menu <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item mx-0 mx-lg-1">
              <a
                class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger"
                href="index.html"
                >RETURN HOME</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>


    <header class="masthead bg-primary text-black text-center">
      <div class="container d-flex align-items-center flex-column">
        <!-- Masthead Heading-->
        <h1 class="masthead-heading mb-0">Here's How You Did</h1>
        <!-- Icon Divider-->
        <div class="divider-custom divider-custom">
          <div class="divider-custom-line"></div>
          <div class="divider-custom-icon"><svg width="50px" height="50px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10.125 8.875C10.125 7.83947 10.9645 7 12 7C13.0355 7 13.875 7.83947 13.875 8.875C13.875 9.56245 13.505 10.1635 12.9534 10.4899C12.478 10.7711 12 11.1977 12 11.75V13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <circle cx="12" cy="16" r="1" stroke="currentColor"/>
            <path d="M22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C21.5093 4.43821 21.8356 5.80655 21.9449 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg></div>
          <div class="divider-custom-line"></div>
        </div>
        <!-- Masthead Subheading-->
        <p class="masthead-subheading font-weight-light mb-0" id="subheadingscores">
          scores not loaded
        </p>
         <!--calculate user scores and display info-->
          <script src="metrics.json"></script>
          <script src="scoreboard.json"></script>
          <script>
          const queryString = window.location.search;
          const urlParams = new URLSearchParams(queryString);
          const topic = urlParams.get('topic')
          let userscores = JSON.parse(localStorage.getItem(topic+"Metrics"))
          let scoretotal = 0
          for (let x of userscores) {
            if (x === true)
            {
              scoretotal += 1
            }
          }
          let message = ""
          if (userscore == 0) {
            message = "Did you even read the questions?"
          } else if (userscore <= 2) {
            message = "Not bad, but not good, either."
          } else if (userscore == 3) {
            message = "Fine."
          } else {
            message = "Well done!"
          }
          let outputtext = (message + " You got " + scoretotal + " out of " + userscores.length + " questions correct")
          document.getElementById("subheadingscores").innerHTML = (outputtext)
          
      </script>
      </div>
    </header>
    <section class="page-section bg-primary text-white mb-0">
      <div class="container">
        <!--
        <div class="text-center">
          <h2>
            Leaderboard
          </h2>
          <div class="list-group" id="leaderboard">
          
          </div>      
          
        </div>
      -->
    </section>
<!--
    <script>
      let template = ""
      var keyValues = []

      for (var key in leaderboard) {
        keyValues.push([key, leaderboard[key]])
      }

      keyValues.sort(function compare(kv1, kv2) {
        // This comparison function has 3 return cases:
        // - Negative number: kv1 should be placed BEFORE kv2
        // - Positive number: kv1 should be placed AFTER kv2
        // - Zero: they are equal, any order is ok between these 2 items
        return kv2[1] - kv1[1]
      })

      console.log(keyValues)

      index = 1

      for (var user of keyValues) {
        template += `<a href="#" class="list-group-item list-group-item-action d-flex gap-3 py-3" aria-current="true">

              <div class="d-flex gap-2 w-100 justify-content-between">
                <div>
                  <h6 class="mb-0">${(user[0].substr(0,1).toUpperCase())+(user[0].slice(1).toLowerCase())}</h6>
                  <p class="mb-0 opacity-75">${user[1]} Points</p>
                </div>
                <small class="opacity-50 text-nowrap">${index}</small>
              </div>
            </a>`
          index++
      }
      
      document.getElementById("leaderboard").innerHTML = template
        

      </script>
    -->
   

    <!-- Copyright Section-->
    <section class="copyright py-4 text-center text-white">
      <div class="container">
        <small class="pre-wrap">Copyright Â© Team Cyanide 2023</small>
      </div>
    </section>
    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes)-->
    <div class="scroll-to-top d-lg-none position-fixed">
      <a
        class="js-scroll-trigger d-block text-center text-white rounded"
        href="#page-top"
        ><i class="fa fa-chevron-up"></i
      ></a>
    </div>
</script>
    <!-- Bootstrap core JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <!-- Third party plugin JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
    <!-- Contact form JS-->
    <script src="assets/mail/jqBootstrapValidation.js"></script>
    <script src="assets/mail/contact_me.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
  </body>
</html>

